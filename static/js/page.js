(()=>{"use strict";var t=function(t){return document.querySelector('.footdef a[href="#'+t.getAttribute("id")+'"]').closest(".footdef")},e=function(t){var e=0,n=0;do{e+=t.offsetTop||0,n+=t.offsetLeft||0,t=t.offsetParent}while(t);return{top:e,left:n}},n=function(t){return new Promise((function(e,n){var o=new XMLHttpRequest;o.addEventListener("load",(function(t){var n=this.responseText;try{n=JSON.parse(n)}catch(t){}e(n)})),o.addEventListener("error",n),o.open("GET",t),o.setRequestHeader("Accept","application/vnd.github.v3.html+json"),o.send()}))},o=function(t){return'<div class="comment">\n    <div class="comment-photo"><img src="'+t.user.avatar_url+'" /></div>\n    <div class="comment-right">\n      <div class="comment-header"><b>'+t.user.login+'</b></div>\n      <hr />\n      <div class="body">'+t.body_html+"</div>\n    </div>\n   </div>"};window.innerWidth>=1024&&window.addEventListener("load",(function(){console.log("repositioning footnotes..."),function(n){for(var o,r=0,i=0,c=Array.from(n);i<c.length;i++){var s=c[i],u=t(s),d=e(s).top;console.log("assigning ",s," to ",u),u.classList.add("footnote-definition"),o=d>r?d:r,u.style.top=o+"px",r=o+u.scrollHeight}var a,l;a="h2.footnotes",(l=document.querySelector(a))&&l.remove()}(document.getElementsByClassName("footref"))})),document.addEventListener("scroll",(function t(){if(window.innerHeight+window.scrollY>=document.body.offsetHeight>>1){console.log("loading comments...");var e=document.querySelector("div.comments-container"),r=["data-github-user","data-issues-url","data-issue-id"].map((function(t){return e.getAttribute(t)})),i=r[0],c=r[1],s=r[2];!function(t,e,r,i){(function(t){return n(t).then((function(t){return t.find((function(t){return t.title===i}))}))})(r+"?created="+e).then((function(e){var r=e.html_url,i=e.comments_url;return n(i).then((function(t){return t.map(o)})).then((function(e){return e.forEach((function(e){return t.insertAdjacentHTML("afterend",e)})),t.style.display="block",e.length})).then((function(t){var e=document.querySelector("a#comment-howto-link");e&&e.setAttribute("href",r)}))})).catch((function(t){return console.error("An error occurred while loading comments: ",t)}))}(e,i,c,s),document.removeEventListener("scroll",t)}}))})();